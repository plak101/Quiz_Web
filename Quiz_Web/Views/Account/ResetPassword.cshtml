@{
	Layout = "_LayoutAccount";
	ViewData["Title"] = "Reset Password";
}
<section class="container" id="reset_password">
	<div class="auth-wrapper p-5 mt-5">
		<div class="auth-image" style="background-image: url('/asset/image/Login.svg');">
		</div>

		<div class="auth-form">
			<div class="auth-card">
				<div class="text-center mb-4">
					<h4>Đặt lại mật khẩu</h4>
					<p class="text-muted small">Nhập mật khẩu mới của bạn</p>
				</div>

				<form id="reset_password_form" method="post">
					@Html.AntiForgeryToken()
					<input type="hidden" name="token" id="tokenInput" value="@ViewBag.Token" />
					
					<div class="mb-3 position-relative">
						<label>Mật khẩu mới</label>
						<input type="password" name="password" class="form-control auth-input pe-5" id="passwordInput"
							   placeholder="Nhập mật khẩu mới" required />
						<i class="fa-solid fa-eye toggle-password" id="togglePassword"></i>
					</div>
					
					<div class="mb-3 position-relative">
						<label>Xác nhận mật khẩu</label>
						<input type="password" name="confirmPassword" class="form-control auth-input pe-5" id="confirmPasswordInput"
							   placeholder="Nhập lại mật khẩu" required />
						<i class="fa-solid fa-eye toggle-password" id="toggleConfirmPassword"></i>
					</div>

					<div class="mb-3">
						<small class="text-muted">
							Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ hoa, chữ thường, số và ký tự đặc biệt
						</small>
					</div>

					<button type="submit" class="btn btn-primary btn-auth">Đặt lại mật khẩu</button>
				</form>
			</div>
		</div>
	</div>
</section>

@section Scripts {
	<script>
		const passwordInput = document.getElementById('passwordInput');
		const togglePassword = document.getElementById('togglePassword');
		const confirmPasswordInput = document.getElementById('confirmPasswordInput');
		const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');

		togglePassword.addEventListener('click', () => {
			const type = passwordInput.type === 'password' ? 'text' : 'password';
			passwordInput.type = type;
			togglePassword.classList.toggle('fa-eye');
			togglePassword.classList.toggle('fa-eye-slash');
		});

		toggleConfirmPassword.addEventListener('click', () => {
			const type = confirmPasswordInput.type === 'password' ? 'text' : 'password';
			confirmPasswordInput.type = type;
			toggleConfirmPassword.classList.toggle('fa-eye');
			toggleConfirmPassword.classList.toggle('fa-eye-slash');
		});
	</script>
}